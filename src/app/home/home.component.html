<div class="col-sm">
    <button type="button" id="addButton" class="add_lead_modal_button btn btn-dark" data-toggle="modal"
        data-target="#myModal">Add Lead</button>
</div>

<!-- Modal -->
<div id="myModal" class="modal fade" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Add Lead</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
                <form #myForm="ngForm">
                    <div class="row">
                        <div class="col-sm">
                            <div class="form-group">
                                <label for="firstName" class="control-label">First Name</label> <span class="required">*</span>
                                <input type="text" [(ngModel)]="firstname" name="value1" class="form-control"
                                    id="firstName" #firstnameControl="ngModel" required="required">
                                    <span style="color:red; font-size: 13px;" *ngIf="firstnameControl.invalid && firstnameControl.touched">
                                        First name is required
                                    </span>
                            </div>
                        </div>
                        <div class="col-sm">
                            <div class="form-group" >
                                <label for="lastName">Last Name</label> <span class="required">*</span>
                                <input type="text" [(ngModel)]="lastname" name="value2" required="required"
                                    class="form-control" id="lastName" #lastnameControl="ngModel">
                                    <span style="color:red; font-size: 13px;" *ngIf="lastnameControl.invalid && lastnameControl.touched">
                                        Last name is required
                                    </span>
                            </div>

                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm">
                            <div class="form-group">
                                <label for="email">Email Address</label> <span class="required">*</span>
                                <input type="email" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$" [(ngModel)]="emailAddress" name="value3" class="form-control" required="required"
                                    id="email" #emailControl="ngModel">
                                    <span style="color:red; font-size: 13px;" *ngIf="emailControl.invalid && emailControl.touched">
                                        Email is required
                                    </span>
                            </div>
                        </div>
                        <div class="col-sm">
                            <div class="form-group">
                                <label for="mobile">Mobile</label> <span class="required">*</span>
                                <input type="text" [(ngModel)]="mobile" name="value4" class="form-control" id="mobile" required="required" #mobileControl="ngModel">
                                <span style="color:red; font-size: 13px;" *ngIf="mobileControl.invalid && mobileControl.touched">
                                    Mobile is required
                                </span>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm">
                            <div class="form-group">
                                <label style="margin-right: 100px;" for="location_type">Location Type</label> <span class="required">*</span>
                                <select style="width: 199px;" [(ngModel)]="locationType" required="required" name="location_type" class="form-control" id="location_type" #locationTypeControl="ngModel">
                                    <span style="color:red; font-size: 13px;" *ngIf="locationTypeControl.invalid && locationTypeControl.touched">
                                        Location Type is required
                                    </span>
                                  <option>City</option>
                                  <option>State</option>
                                  <option>Country</option>
                                </select>
                              </div>
                        </div>
                        <div class="col-sm">
                            <div class="form-group">
                                <label for="locationString">Location String</label> <span class="required">*</span>
                                <input type="text" [(ngModel)]="locationString" required="required" name="value6" class="form-control"
                                    id="location_string" #locationStringControl="ngModel">
                                    <span style="color:red; font-size: 13px;" *ngIf="locationStringControl.invalid && locationStringControl.touched">
                                        Location String is required
                                    </span>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" (click)="saveLead(); myForm.reset();" [disabled]="!myForm.valid" class="add_lead_btn btn btn-dark" data-dismiss="modal">Save</button>
            </div>
        </div>
    </div>
</div>

<div class="col-sm">
    <table class="leads_table table table-striped table-bordered">
        <thead class="thead-dark">
            <tr>
                <th scope="col">Name</th>
                <th scope="col">Email</th>
                <th scope="col">Mobile Number</th>
                <th scope="col">Location Type</th>
                <th scope="col">Location String</th>
                <th scope="col">Action</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let data of dataResponse">
                <th scope="row">{{(data.first_name + ' ' + data.last_name)}}</th>
                <td>{{data.email}}</td>
                <td>{{data.mobile}}</td>
                <td>{{data.location_type}}</td>
                <td>{{data.location_string}}</td>
                <td>
                    <div class="row">
                        <button type="button" id="markUpdateButton" class="update_lead_modal_button btn btn-dark btn-sm"
                            data-toggle="modal" data-target="#update_lead_form_1" (click)="idPass(data.id)">Mark Update</button>

                        <!-- Modal -->
                    
                        <button type="button" id="deleteUpdateButton"
                            class="delete_lead_modal_button btn btn-dark btn-sm" data-toggle="modal"
                            data-target="#delete_lead_form" (click)='idForDelete(data.id)'>Delete</button>
                        <!-- Modal -->
                        <div id="delete_lead_form" class="modal fade" role="dialog">
                            <div class="modal-dialog">

                                <!-- Modal content-->
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title">Do you wish to delete this lead .?</h5>

                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                    </div>
                                    <div class="modal-body">
                                        <form class="delete_lead_form">
                                        <div class="row">
                                            <div class="col-sm" style="float: right;">
                                                <button style="float: right;" type="button" (click)='deleteLead()'
                                                    class="delete_lead_btn btn btn-danger btn-sm" data-dismiss="modal">Delete</button>
                                            </div>
                                            <div class="col-sm" style="float: left;">
                                                <button type="button" class="btn btn-dark btn-sm"
                                                    data-dismiss="modal">Cancel</button>
                                            </div>
                                        </div>
                                    </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>



<div id="update_lead_form_1" class="modal fade" role="dialog">
    <div class="modal-dialog">
  
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
            <h4 class="modal-title">Mark Communication</h4>
            <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        <div class="update_lead_form modal-body">
            <label class="communication_Text" for="communication">Communication:</label>
            <textarea [(ngModel)]="communicationText" name="communication" maxlength="100" name="communication" class="form-control" rows="5"
                id="communication"></textarea>
        </div>
        <div class="modal-footer">
            <button type="button" id="closeModalButton"
            class="close_lead_modal_button btn btn-default btn-md"
            data-dismiss="modal">Close</button>
        <button type="button" id="updateButton" (click)='saveUpdate()'
            class="update_lead_btn btn btn-dark btn-md" data-dismiss="modal">Save</button>
        </div>
      </div>
  
    </div>
  </div>
  
